import{h7 as ye,h8 as ae,r as x,h9 as _e,d as K,F as q,b as Re,cd as Te,cp as Ce,u as X,a9 as pe,cl as fe,bk as ne,ah as Z,cn as se,cq as xe,j as f,bo as we,ey as E,$ as Me,i as Oe,ha as De,W as Y,ai as Le,aj as ze,T as ge,cv as ve,cA as Ie,V as re,B,eU as Fe,I as le,eV as Ee,aw as Pe,aE as je,bj as ke}from"./strapi-DI2w5Gri.js";import{u as $e,I as Ae,D as Ne}from"./useDragAndDrop-HYwNDExe-DdRoktix.js";import{a as We,g as oe,u as qe,b as Ue}from"./relations-ksVp_JdY-DmF3g5tt.js";import{g as He}from"./getEmptyImage-CjqolaH3.js";var ce=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Ve(n,t){return!!(n===t||ce(n)&&ce(t))}function Be(n,t){if(n.length!==t.length)return!1;for(var o=0;o<n.length;o++)if(!Ve(n[o],t[o]))return!1;return!0}function ee(n,t){t===void 0&&(t=Be);var o,l=[],u,I=!1;function S(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];return I&&o===this&&t(b,l)||(u=n.apply(this,b),I=!0,o=this,l=b),u}return S}var Ke=typeof performance=="object"&&typeof performance.now=="function",de=Ke?function(){return performance.now()}:function(){return Date.now()};function ue(n){cancelAnimationFrame(n.id)}function Ge(n,t){var o=de();function l(){de()-o>=t?n.call(null):u.id=requestAnimationFrame(l)}var u={id:requestAnimationFrame(l)};return u}var te=-1;function he(n){if(n===void 0&&(n=!1),te===-1||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",document.body.appendChild(t),te=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return te}var W=null;function me(n){if(n===void 0&&(n=!1),W===null||n){var t=document.createElement("div"),o=t.style;o.width="50px",o.height="50px",o.overflow="scroll",o.direction="rtl";var l=document.createElement("div"),u=l.style;return u.width="100px",u.height="100px",t.appendChild(l),document.body.appendChild(t),t.scrollLeft>0?W="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?W="negative":W="positive-ascending"),document.body.removeChild(t),W}return W}var Ye=150,Qe=function(t,o){return t};function Je(n){var t,o=n.getItemOffset,l=n.getEstimatedTotalSize,u=n.getItemSize,I=n.getOffsetForIndexAndAlignment,S=n.getStartIndexForOffset,b=n.getStopIndexForStartIndex,C=n.initInstanceProps,O=n.shouldResetStyleCacheOnItemSizeChange,L=n.validateProps;return t=function(M){ye(D,M);function D(v){var e;return e=M.call(this,v)||this,e._instanceProps=C(e.props,ae(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:ae(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=ee(function(i,a,c,h){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:a,visibleStartIndex:c,visibleStopIndex:h})}),e._callOnScroll=void 0,e._callOnScroll=ee(function(i,a,c){return e.props.onScroll({scrollDirection:i,scrollOffset:a,scrollUpdateWasRequested:c})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var a=e.props,c=a.direction,h=a.itemSize,p=a.layout,d=e._getItemStyleCache(O&&h,O&&p,O&&c),g;if(d.hasOwnProperty(i))g=d[i];else{var s=o(e.props,i,e._instanceProps),r=u(e.props,i,e._instanceProps),R=c==="horizontal"||p==="horizontal",T=c==="rtl",z=R?s:0;d[i]=g={position:"absolute",left:T?void 0:z,right:T?z:void 0,top:R?0:s,height:R?"100%":r,width:R?r:"100%"}}return g},e._getItemStyleCache=void 0,e._getItemStyleCache=ee(function(i,a,c){return{}}),e._onScrollHorizontal=function(i){var a=i.currentTarget,c=a.clientWidth,h=a.scrollLeft,p=a.scrollWidth;e.setState(function(d){if(d.scrollOffset===h)return null;var g=e.props.direction,s=h;if(g==="rtl")switch(me()){case"negative":s=-h;break;case"positive-descending":s=p-c-h;break}return s=Math.max(0,Math.min(s,p-c)),{isScrolling:!0,scrollDirection:d.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var a=i.currentTarget,c=a.clientHeight,h=a.scrollHeight,p=a.scrollTop;e.setState(function(d){if(d.scrollOffset===p)return null;var g=Math.max(0,Math.min(p,h-c));return{isScrolling:!0,scrollDirection:d.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var a=e.props.outerRef;e._outerRef=i,typeof a=="function"?a(i):a!=null&&typeof a=="object"&&a.hasOwnProperty("current")&&(a.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&ue(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=Ge(e._resetIsScrolling,Ye)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}D.getDerivedStateFromProps=function(e,i){return Xe(e,i),L(e),null};var y=D.prototype;return y.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},y.scrollToItem=function(e,i){i===void 0&&(i="auto");var a=this.props,c=a.itemCount,h=a.layout,p=this.state.scrollOffset;e=Math.max(0,Math.min(e,c-1));var d=0;if(this._outerRef){var g=this._outerRef;h==="vertical"?d=g.scrollWidth>g.clientWidth?he():0:d=g.scrollHeight>g.clientHeight?he():0}this.scrollTo(I(this.props,e,i,p,this._instanceProps,d))},y.componentDidMount=function(){var e=this.props,i=e.direction,a=e.initialScrollOffset,c=e.layout;if(typeof a=="number"&&this._outerRef!=null){var h=this._outerRef;i==="horizontal"||c==="horizontal"?h.scrollLeft=a:h.scrollTop=a}this._callPropsCallbacks()},y.componentDidUpdate=function(){var e=this.props,i=e.direction,a=e.layout,c=this.state,h=c.scrollOffset,p=c.scrollUpdateWasRequested;if(p&&this._outerRef!=null){var d=this._outerRef;if(i==="horizontal"||a==="horizontal")if(i==="rtl")switch(me()){case"negative":d.scrollLeft=-h;break;case"positive-ascending":d.scrollLeft=h;break;default:var g=d.clientWidth,s=d.scrollWidth;d.scrollLeft=s-g-h;break}else d.scrollLeft=h;else d.scrollTop=h}this._callPropsCallbacks()},y.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&ue(this._resetIsScrollingTimeoutId)},y.render=function(){var e=this.props,i=e.children,a=e.className,c=e.direction,h=e.height,p=e.innerRef,d=e.innerElementType,g=e.innerTagName,s=e.itemCount,r=e.itemData,R=e.itemKey,T=R===void 0?Qe:R,z=e.layout,P=e.outerElementType,$=e.outerTagName,k=e.style,_=e.useIsScrolling,w=e.width,m=this.state.isScrolling,F=c==="horizontal"||z==="horizontal",N=F?this._onScrollHorizontal:this._onScrollVertical,A=this._getRangeToRender(),j=A[0],U=A[1],G=[];if(s>0)for(var H=j;H<=U;H++)G.push(x.createElement(i,{data:r,key:T(H,r),index:H,isScrolling:_?m:void 0,style:this._getItemStyle(H)}));var ie=l(this.props,this._instanceProps);return x.createElement(P||$||"div",{className:a,onScroll:N,ref:this._outerRefSetter,style:_e({position:"relative",height:h,width:w,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:c},k)},x.createElement(d||g||"div",{children:G,ref:p,style:{height:F?"100%":ie,pointerEvents:m?"none":void 0,width:F?ie:"100%"}}))},y._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),a=i[0],c=i[1],h=i[2],p=i[3];this._callOnItemsRendered(a,c,h,p)}}if(typeof this.props.onScroll=="function"){var d=this.state,g=d.scrollDirection,s=d.scrollOffset,r=d.scrollUpdateWasRequested;this._callOnScroll(g,s,r)}},y._getRangeToRender=function(){var e=this.props,i=e.itemCount,a=e.overscanCount,c=this.state,h=c.isScrolling,p=c.scrollDirection,d=c.scrollOffset;if(i===0)return[0,0,0,0];var g=S(this.props,d,this._instanceProps),s=b(this.props,g,d,this._instanceProps),r=!h||p==="backward"?Math.max(1,a):1,R=!h||p==="forward"?Math.max(1,a):1;return[Math.max(0,g-r),Math.max(0,Math.min(i-1,s+R)),g,s]},D}(x.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Xe=function(t,o){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,o.instance},Ze=Je({getItemOffset:function(t,o){var l=t.itemSize;return o*l},getItemSize:function(t,o){var l=t.itemSize;return l},getEstimatedTotalSize:function(t){var o=t.itemCount,l=t.itemSize;return l*o},getOffsetForIndexAndAlignment:function(t,o,l,u,I,S){var b=t.direction,C=t.height,O=t.itemCount,L=t.itemSize,M=t.layout,D=t.width,y=b==="horizontal"||M==="horizontal",v=y?D:C,e=Math.max(0,O*L-v),i=Math.min(e,o*L),a=Math.max(0,o*L-v+L+S);switch(l==="smart"&&(u>=a-v&&u<=i+v?l="auto":l="center"),l){case"start":return i;case"end":return a;case"center":{var c=Math.round(a+(i-a)/2);return c<Math.ceil(v/2)?0:c>e+Math.floor(v/2)?e:c}case"auto":default:return u>=a&&u<=i?u:u<a?a:i}},getStartIndexForOffset:function(t,o){var l=t.itemCount,u=t.itemSize;return Math.max(0,Math.min(l-1,Math.floor(o/u)))},getStopIndexForStartIndex:function(t,o,l){var u=t.direction,I=t.height,S=t.itemCount,b=t.itemSize,C=t.layout,O=t.width,L=u==="horizontal"||C==="horizontal",M=o*b,D=L?O:I,y=Math.ceil((D+l-M)/b);return Math.max(0,Math.min(S-1,o+y-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});const[vt,et]=Te("ComponentContext",{id:void 0,level:-1,uid:void 0,type:void 0});function Se(n,t){const o=Z(n),l=ne(t,S=>S.removeFieldRow),u=ne(t,S=>S.addFieldRow);return S=>{if(o.value&&o.value.connect){const b=o.value.connect.findIndex(C=>C.id===S.id);if(b>=0){l(`${n}.connect`,b);return}}u(`${n}.disconnect`,{id:S.id,apiData:{id:S.id,documentId:S.documentId,locale:S.locale}})}}const V=5,be=["oneWay","oneToOne","manyToOne","oneToManyMorph","oneToOneMorph"],tt=x.forwardRef(({disabled:n,label:t,...o},l)=>{const[u,I]=x.useState(1),{document:S,model:b}=Ce(),C=S?.documentId,{formatMessage:O}=X(),[{query:L}]=pe(),M=fe(L),y=o.attribute.relation.toLowerCase().includes("morph")||n,{componentId:v,componentUID:e}=et("RelationsField",({uid:m,id:F})=>({componentId:F,componentUID:m})),i=ne("RelationsList",m=>m.isSubmitting);x.useEffect(()=>{I(1)},[i]);const a=v?v.toString():C,c=e??b,[h]=o.name.split(".").slice(-1),{data:p,isLoading:d,isFetching:g}=We({model:c,targetField:h,id:a,params:{...M,pageSize:V,page:u}},{refetchOnMountOrArgChange:!0,skip:!a,selectFromResult:m=>({...m,data:{...m.data,results:m.data?.results?m.data.results:[]}})}),s=()=>{I(m=>m+1)},r=Z(o.name),R=d||g,T="pagination"in p&&p.pagination?p.pagination.total:0,z=(r.value?.connect??[]).filter(m=>p.results.findIndex(F=>F.id===m.id)===-1).length??0,P=r.value?.disconnect?.length??0,$=T+z-P,k=x.useMemo(()=>{const m={field:r.value,href:`../${se}/${o.attribute.targetModel}`,mainField:o.mainField};return[...xe(ot(m),it(m),at(m))([...p.results]),...r.value?.connect??[]].sort((A,j)=>A.__temp_key__<j.__temp_key__?-1:A.__temp_key__>j.__temp_key__?1:0)},[p.results,r.value,o.attribute.targetModel,o.mainField]),_=Se(o.name,"RelationsField"),w=m=>{const[F]=k.slice(-1),N={id:m.id,apiData:{id:m.id,documentId:m.documentId,locale:m.locale},status:m.status,__temp_key__:Ie(F?.__temp_key__??null,null,1)[0],[o.mainField?.name??"documentId"]:m[o.mainField?.name??"documentId"],label:oe(m,o.mainField),href:`../${se}/${o.attribute.targetModel}/${m.documentId}?${m.locale?`plugins[i18n][locale]=${m.locale}`:""}`};be.includes(o.attribute.relation)?(r.value?.connect?.forEach(_),k.forEach(_),r.onChange(`${o.name}.connect`,[N])):r.onChange(`${o.name}.connect`,[...r.value?.connect??[],N])};return f.jsxs(q,{ref:l,direction:"column",gap:3,justifyContent:"space-between",alignItems:"stretch",wrap:"wrap",children:[f.jsxs(nt,{direction:"column",alignItems:"start",gap:2,width:"100%",children:[f.jsx(st,{disabled:y,id:e?v?`${v}`:"":C,label:`${t} ${$>0?`(${$})`:""}`,model:c,onChange:w,...o}),"pagination"in p&&p.pagination&&p.pagination.pageCount>p.pagination.page?f.jsx(we,{disabled:R,onClick:s,loading:R,startIcon:f.jsx(Me,{}),shrink:0,children:O({id:E("relation.loadMore"),defaultMessage:"Load More"})}):null]}),f.jsx(rt,{data:k,serverData:p.results,disabled:y,name:o.name,isLoading:R,relationType:o.attribute.relation})]})}),nt=K(q)`
  & > div {
    width: 100%;
  }
`,ot=({field:n})=>t=>t.filter(o=>(n?.connect??[]).findIndex(u=>u.id===o.id)===-1),it=({field:n})=>t=>t.filter(o=>(n?.disconnect??[]).findIndex(u=>u.id===o.id)===-1),at=({mainField:n,href:t})=>o=>o.map(l=>({...l,[n?.name??"documentId"]:l[n?.name??"documentId"],label:oe(l,n),href:`${t}/${l.documentId}?${l.locale?`plugins[i18n][locale]=${l.locale}`:""}`})),st=({hint:n,id:t,model:o,label:l,labelAction:u,name:I,mainField:S,placeholder:b,required:C,unique:O,"aria-label":L,onChange:M,...D})=>{const[y,v]=x.useState(""),[e,i]=x.useState({_q:"",page:1}),{toggleNotification:a}=Oe(),[{query:c}]=pe(),{formatMessage:h}=X(),p=De(I),d=Z(I),g=qe(e,300),[s,{data:r,isLoading:R}]=Ue();x.useEffect(()=>{const[_]=I.split(".").slice(-1);s({model:o,targetField:_,params:{...fe(c),id:t??"",pageSize:10,idsToInclude:d.value?.disconnect?.map(w=>w.id.toString())??[],idsToOmit:d.value?.connect?.map(w=>w.id.toString())??[],...g}})},[d.value?.connect,d.value?.disconnect,t,o,I,c,s,g]);const T=async _=>{i(w=>({...w,_q:_,page:1}))},z=r?.pagination?r.pagination.page<r.pagination.pageCount:!1,P=r?.results??[],$=_=>{if(!_)return;const w=P.find(m=>m.id.toString()===_);if(!w){console.error("You've tried to add a relation with an id that does not exist in the options you can see, this is likely a bug with Strapi. Please open an issue."),a({message:h({id:E("relation.error-adding-relation"),defaultMessage:"An error occurred while trying to add the relation."}),type:"danger"});return}M(w)},k=()=>{!r||!r.pagination||r.pagination.page<r.pagination.pageCount&&i(_=>({..._,page:_.page+1}))};return x.useLayoutEffect(()=>{v("")},[d.value]),f.jsxs(Y.Root,{error:d.error,hint:n,name:I,required:C,children:[f.jsx(Y.Label,{action:u,children:l}),f.jsx(Le,{ref:p,name:I,autocomplete:"list",placeholder:b||h({id:E("relation.add"),defaultMessage:"Add relation"}),hasMoreItems:z,loading:R,onOpenChange:()=>{T(y??"")},noOptionsMessage:()=>h({id:E("relation.notAvailable"),defaultMessage:"No relations available"}),loadingMessage:h({id:E("relation.isLoading"),defaultMessage:"Relations are loading"}),onLoadMore:k,textValue:y,onChange:$,onTextValueChange:_=>{v(_)},onInputChange:_=>{T(_.currentTarget.value)},...D,children:P.map(_=>{const w=oe(_,S);return f.jsx(ze,{value:_.id.toString(),textValue:w,children:f.jsxs(q,{gap:2,justifyContent:"space-between",children:[f.jsx(ge,{ellipsis:!0,children:w}),_.status?f.jsx(ve,{status:_.status}):null]})},_.id)})}),f.jsx(Y.Error,{}),f.jsx(Y.Hint,{})]})},Q=50,J=4,rt=({data:n,serverData:t,disabled:o,name:l,isLoading:u,relationType:I})=>{const S=x.useId(),{formatMessage:b}=X(),C=x.useRef(null),O=x.useRef(null),[L,M]=x.useState(),[D,y]=x.useState(""),v=Z(l);x.useEffect(()=>{if(n.length<=V)return M(void 0);const s=R=>{const T=R.target,z=T.parentNode.scrollHeight,P=T.scrollHeight-T.scrollTop;return T.scrollTop===0?M("bottom"):M(P===z?"top":"top-bottom")},r=O?.current;return!u&&n.length>0&&r&&O.current.addEventListener("scroll",s),()=>{r&&r.removeEventListener("scroll",s)}},[u,n.length]);const e=s=>`${s+1} of ${n.length}`,i=(s,r)=>{const R=n[r];y(b({id:E("dnd.reorder"),defaultMessage:"{item}, moved. New position in list: {position}."},{item:R.label??R.documentId,position:e(s)}));const T=[...n],z=n[r],P=r>s?T[s-1]?.__temp_key__:T[s]?.__temp_key__,$=r>s?T[s]?.__temp_key__:T[s+1]?.__temp_key__,[k]=Ie(P,$,1);T.splice(r,1),T.splice(s,0,{...z,__temp_key__:k});const _=T.reduce((w,m,F,N)=>{const A=t.find(U=>U.id===m.id),j=N[F+1];if(!A||A.__temp_key__!==m.__temp_key__){const U=j?{before:j.documentId,locale:j.locale,status:"publishedAt"in j&&j.publishedAt?"published":"draft"}:{end:!0},G={...m,apiData:{id:m.id,documentId:m.documentId,locale:m.locale,position:U}};return[...w,G]}return w},[]).toReversed();v.onChange(`${l}.connect`,_)},a=s=>{const r=n[s];y(b({id:E("dnd.grab-item"),defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:r.label??r.documentId,position:e(s)}))},c=s=>{const{href:r,label:R,...T}=n[s];y(b({id:E("dnd.drop-item"),defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:R??T.documentId,position:e(s)}))},h=s=>{const r=n[s];y(b({id:E("dnd.cancel-item"),defaultMessage:"{item}, dropped. Re-order cancelled."},{item:r.label??r.documentId}))},p=Se(l,"RelationsList"),d=!be.includes(I),g=n.length>V?Math.min(n.length,V)*(Q+J)+Q/2:Math.min(n.length,V)*(Q+J);return f.jsxs(lt,{$overflowDirection:L,children:[f.jsx(re,{id:S,children:b({id:E("dnd.instructions"),defaultMessage:"Press spacebar to grab and re-order"})}),f.jsx(re,{"aria-live":"assertive",children:D}),f.jsx(Ze,{height:g,ref:C,outerRef:O,itemCount:n.length,itemSize:Q+J,itemData:{ariaDescribedBy:S,canDrag:d,disabled:o,handleCancel:h,handleDropItem:c,handleGrabItem:a,handleMoveItem:i,name:l,handleDisconnect:p,relations:n},itemKey:s=>n[s].id,innerElementType:"ol",children:ct})]})},lt=K(B)`
  position: relative;
  overflow: hidden;
  flex: 1;

  &:before,
  &:after {
    position: absolute;
    width: 100%;
    height: 4px;
    z-index: 1;
  }

  &:before {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    top: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="top"?1:0};
    transition: opacity 0.2s ease-in-out;
  }

  &:after {
    /* TODO: as for DS Table component we would need this to be handled by the DS theme */
    content: '';
    background: linear-gradient(0deg, rgba(3, 3, 5, 0.2) 0%, rgba(0, 0, 0, 0) 100%);
    bottom: 0;
    opacity: ${({$overflowDirection:n})=>n==="top-bottom"||n==="bottom"?1:0};
    transition: opacity 0.2s ease-in-out;
  }
`,ct=({data:n,index:t,style:o})=>{const{ariaDescribedBy:l,canDrag:u=!1,disabled:I=!1,handleCancel:S,handleDisconnect:b,handleDropItem:C,handleGrabItem:O,handleMoveItem:L,name:M,relations:D}=n,{formatMessage:y}=X(),{href:v,id:e,label:i,status:a}=D[t],[{handlerId:c,isDragging:h,handleKeyDown:p},d,g,s,r]=$e(u&&!I,{type:`${Ae.RELATION}_${M}`,index:t,item:{displayedValue:i,status:a,id:e,index:t},onMoveItem:L,onDropItem:C,onGrabItem:O,onCancel:S,dropSensitivity:Ne.REGULAR}),R=Fe(d,s);return x.useEffect(()=>{r(He())},[r]),f.jsx(B,{style:o,tag:"li",ref:g,"aria-describedby":l,cursor:u?"all-scroll":"default",children:h?f.jsx(ht,{}):f.jsxs(q,{paddingTop:2,paddingBottom:2,paddingLeft:u?2:4,paddingRight:4,hasRadius:!0,borderColor:"neutral200",background:I?"neutral150":"neutral0",justifyContent:"space-between",ref:R,"data-handler-id":c,children:[f.jsxs(dt,{gap:1,children:[u?f.jsx(le,{tag:"div",role:"button",tabIndex:0,withTooltip:!1,label:y({id:E("components.RelationInput.icon-button-aria-label"),defaultMessage:"Drag"}),variant:"ghost",onKeyDown:p,disabled:I,children:f.jsx(Ee,{})}):null,f.jsxs(q,{width:"100%",minWidth:0,justifyContent:"space-between",children:[f.jsx(B,{minWidth:0,paddingTop:1,paddingBottom:1,paddingRight:4,children:f.jsx(Pe,{description:i,children:v?f.jsx(ut,{tag:je,to:v,isExternal:!1,children:i}):f.jsx(ge,{textColor:I?"neutral600":"primary600",ellipsis:!0,children:i})})}),a?f.jsx(ve,{status:a}):null]})]}),f.jsx(B,{paddingLeft:4,children:f.jsx(le,{onClick:()=>b(D[t]),disabled:I,label:y({id:E("relation.disconnect"),defaultMessage:"Remove"}),variant:"ghost",size:"S",children:f.jsx(ke,{})})})]})})},dt=K(q)`
  width: 100%;
  /* Used to prevent endAction to be pushed out of container */
  min-width: 0;

  & > div[role='button'] {
    cursor: all-scroll;
  }
`,It=K.button`
  svg path {
    fill: ${({theme:n,disabled:t})=>t?n.colors.neutral600:n.colors.neutral500};
  }

  &:hover svg path,
  &:focus svg path {
    fill: ${({theme:n,disabled:t})=>!t&&n.colors.neutral600};
  }
`,ut=K(Re)`
  display: block;

  & > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: block;
  }
`,ht=()=>f.jsx(B,{paddingTop:2,paddingBottom:2,paddingLeft:4,paddingRight:4,hasRadius:!0,borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",background:"primary100",height:`calc(100% - ${J}px)`}),St=x.memo(tt);export{vt as C,It as D,dt as F,ut as L,St as M,et as u};
